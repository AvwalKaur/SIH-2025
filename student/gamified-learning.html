<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamified Learning - DisasterSafe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary: #34a853;
            --accent: #f25c54;
            --warning: #f9a825;
            --card-bg: #ffffff;
            --text-dark: #202124;
            --light-bg: #f5f7fb;

            --p1: #309ad4;
            --p2: #e69c42;
            --p3: #ea8d99;
            --p4: #faafa4;
            --p5: #e2afd3;
            --p6: #c8e5f3;
            --p7: #fae8c7;

            --shadow: 0 8px 20px rgba(18, 38, 63, 0.08);
            --transition: all 0.25s ease;
            --glass: rgba(255, 255, 255, 0.72);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: var(--light-bg);
            color: var(--text-dark);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-family: "Ubuntu", sans-serif;
            font-weight: 400;
            font-style: normal;
        }

        /* Layout */
        .dashboard-container {
            display: grid;
            grid-template-columns: 240px 1fr;
            min-height: 100vh;
        }

        .sidebar {
            background: linear-gradient(180deg, var(--primary), var(--primary-dark));
            color: #fff;
            padding: 22px;
            position: fixed;
            width: 240px;
            height: 100%;
            overflow-y: auto;
            box-shadow: var(--shadow);
            z-index: 200;
            border-right: 1px solid rgba(255, 255, 255, 0.05);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06)
        }

        .logo i {
            font-size: 22px;
            color: var(--p6)
        }

        .logo h1 {
            font-size: 18px;
            font-weight: 700;
            letter-spacing: 0.2px
        }

        .menu-items {
            margin-top: 18px;
            display: flex;
            flex-direction: column;
            gap: 8px
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            color: rgba(255, 255, 255, 0.95)
        }

        .menu-item i {
            width: 20px;
            text-align: center
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.06)
        }

        .menu-item.active {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.06));
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08)
        }

        /* Sidebar User Profile */
        .sidebar-user-profile {
            margin-top: auto;
            padding: 12px;
            margin: 0 -12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            cursor: pointer;
        }

        .sidebar-user-profile:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--p6), var(--p1));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-dark);
            text-transform: uppercase;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
            min-width: 0;
        }

        .user-info h4 {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-info p {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }

        /* Main content */
        .main-content {
            grid-column: 2;
            padding: 20px;
            min-height: 100vh
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header-section {
            text-align: center;
            margin-bottom: 30px;
            color: var(--text-dark);
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .header-section h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .header-section p {
            font-size: 1.1rem;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        /* Search Bar */
        .search-container {
            margin: 30px 0;
            display: flex;
            justify-content: center;
        }

        .search-bar {
            display: flex;
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            border-radius: 50px;
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 2px solid transparent;
            transition: var(--transition);
        }

        .search-bar:focus-within {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(26, 115, 232, 0.2);
        }

        .search-bar input {
            flex: 1;
            padding: 15px 25px;
            border: none;
            outline: none;
            font-size: 1rem;
            background: transparent;
            color: var(--text-dark);
        }

        .search-bar button {
            padding: 15px 25px;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .search-bar button:hover {
            background: var(--primary-dark);
        }

        /* Game Filter Bar */
        .game-filter-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .filter-option {
            padding: 12px 24px;
            border: 2px solid transparent;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .filter-option:hover {
            background: rgba(26, 115, 232, 0.1);
            transform: translateY(-2px);
            border-color: var(--primary);
        }

        .filter-option.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        .filter-option i {
            font-size: 16px;
        }

        /* Responsive filter bar */
        @media (max-width: 768px) {
            .game-filter-bar {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
                padding: 15px;
            }
            
            .filter-option {
                padding: 10px 18px;
                font-size: 13px;
                flex: 1;
                min-width: 120px;
                justify-content: center;
            }
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 14px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            border: 1px solid rgba(16, 24, 32, 0.03);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .game-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .game-header {
            height: 160px;
            position: relative;
            background: linear-gradient(90deg, var(--p6), var(--p1));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            overflow: hidden;
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            z-index: 2;
        }

        .game-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(90deg, var(--p3), var(--accent));
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }

        .game-content {
            padding: 24px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .game-content h3 {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .game-content p {
            color: #6c757d;
            margin-bottom: 18px;
            line-height: 1.6;
            flex: 1;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 18px;
            padding: 15px;
            background: rgba(26, 115, 232, 0.05);
            border-radius: 12px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
        }

        .game-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 18px;
        }

        .feature-tag {
            padding: 5px 10px;
            background: rgba(52, 168, 83, 0.1);
            color: var(--secondary);
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .game-actions {
            display: flex;
            gap: 12px;
            margin-top: auto;
        }

        .btn-primary {
            flex: 1;
            padding: 12px 18px;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(26, 115, 232, 0.3);
        }

        .btn-secondary {
            padding: 12px 18px;
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* Disaster Info Modal */
        .disaster-info-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .disaster-info-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .disaster-modal-content {
            background: white;
            border-radius: 15px;
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: slideInUp 0.4s ease;
        }

        .disaster-modal-header {
            padding: 25px 30px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 15px 15px 0 0;
            position: relative;
        }

        .disaster-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            transition: var(--transition);
        }

        .disaster-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .disaster-modal-title {
            font-size: 1.8rem;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .disaster-modal-subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .disaster-modal-body {
            padding: 30px;
        }

        .disaster-section {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 4px solid var(--primary);
            animation: fadeIn 0.5s ease;
        }

        .disaster-section h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }

        .disaster-section ul {
            list-style: none;
            padding: 0;
        }

        .disaster-section li {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .disaster-section li:last-child {
            border-bottom: none;
        }

        .disaster-section li i {
            color: var(--secondary);
            margin-top: 4px;
            flex-shrink: 0;
        }

        .disaster-animation {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: #f0f8ff;
            border-radius: 10px;
            border: 2px dashed var(--primary);
        }

        .animation-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .dashboard-container {
                grid-template-columns: 1fr
            }

            .sidebar {
                position: relative;
                width: 100%;
                height: auto
            }

            .main-content {
                padding: 18px
            }

            .header-section h1 {
                font-size: 2rem;
            }

            .games-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .game-actions {
                flex-direction: column;
            }
            
            .disaster-modal-content {
                width: 95%;
                margin: 10px;
            }
        }

        /* No results message */
        .no-results {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 1.2rem;
            grid-column: 1 / -1;
        }

        .no-results i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #ddd;
        }
    </style>
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>ResQ</h1>
            </div>
            <div class="menu-items">
                <div class="menu-item"><i class="fas fa-home"></i><span>Dashboard</span></div>
                <div class="menu-item"><i class="fas fa-book"></i><span>Education Modules</span></div>
                <div class="menu-item"><i class="fas fa-gamepad"></i><span>Sandbox Simulator</span></div>
                <div class="menu-item"><i class="fas fa-phone-alt"></i><span>Emergency Contacts</span></div>
                <div class="menu-item"><i class="fas fa-map-marked-alt"></i><span>Disaster Map</span></div>
                <div class="menu-item"><i class="fas fa-robot"></i><span>AI Helper</span></div>
                <div class="menu-item active"><i class="fas fa-graduation-cap"></i><span>Gamified Learning</span></div>
                <div class="menu-item"><i class="fas fa-user"></i><span>Profile & Badges</span></div>
                <div class="menu-item"><i class="fas fa-cog"></i><span>Settings</span></div>
            </div>

            <!-- User Profile at Bottom -->
            <div class="sidebar-user-profile">
                <div class="user-avatar" id="userAvatar">U</div>
                <div class="user-info">
                    <h4 id="sidebarUserName">User</h4>
                    <p>Student</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <div class="header-section">
                    <h1>Gamified Disaster Learning</h1>
                    <p>Learn disaster management through engaging games and challenges</p>
                </div>

                <!-- Search Bar -->
                <div class="search-container">
                    <div class="search-bar">
                        <input type="text" id="gameSearch" placeholder="Search games by name, type, or disaster...">
                        <button><i class="fas fa-search"></i></button>
                    </div>
                </div>

                <!-- Game Filter Bar -->
                <div class="game-filter-bar">
                    <div class="filter-option active" data-filter="all">
                        <i class="fas fa-th-large"></i>
                        All Games
                    </div>
                    <div class="filter-option" data-filter="strategy">
                        <i class="fas fa-chess"></i>
                        Strategy
                    </div>
                    <div class="filter-option" data-filter="quiz">
                        <i class="fas fa-question-circle"></i>
                        Quiz
                    </div>
                    <div class="filter-option" data-filter="simulation">
                        <i class="fas fa-desktop"></i>
                        Simulation
                    </div>
                    <div class="filter-option" data-filter="multiplayer">
                        <i class="fas fa-users"></i>
                        Multiplayer
                    </div>
                </div>

                <!-- Games Grid -->
                <div class="games-grid" id="gamesGrid">
                    <!-- Game cards will be populated by JavaScript -->
                </div>
            </div>
        </main>
    </div>

    <!-- Disaster Info Modal -->
    <div class="disaster-info-modal" id="disasterInfoModal">
        <div class="disaster-modal-content">
            <div class="disaster-modal-header">
                <button class="disaster-modal-close" id="closeDisasterModal">&times;</button>
                <h2 class="disaster-modal-title" id="disasterModalTitle">Disaster Information</h2>
                <p class="disaster-modal-subtitle" id="disasterModalSubtitle">Learn how to prepare and respond</p>
            </div>
            <div class="disaster-modal-body" id="disasterModalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Game data
        const gamesData = [
            {
                id: 'simcity-disaster',
                title: 'SimCity: Disaster Manager',
                description: 'Build resilient cities and manage disasters. Design emergency services, create evacuation routes, and rebuild after disasters.',
                icon: 'fas fa-city',
                badge: 'Strategy',
                players: '1',
                duration: '45-90',
                rating: '★ 4.9',
                features: ['City Building', 'Strategy', 'Resource Management', 'Planning'],
                disasterType: 'Multiple',
                category: 'strategy'
            },
            {
                id: 'tsunamiescape',
                title: 'Tsunami Escape',
                description: 'Fast-paced survival game. Solve puzzles and navigate to high ground before the tsunami hits. Learn warning signs and escape routes.',
                icon: 'fas fa-water',
                badge: 'Survival',
                players: '1',
                duration: '10-20',
                rating: '★ 4.6',
                features: ['Puzzle', 'Survival', 'Time Pressure', 'Education'],
                disasterType: 'Tsunami',
                category: 'simulation'
            },
            {
                id: 'hurricanehero',
                title: 'Hurricane Hero: Resource Dash',
                description: 'Prepare your community for an approaching hurricane. Secure homes, stock supplies, and make critical resource decisions.',
                icon: 'fas fa-wind',
                badge: 'Strategy',
                players: '1-3',
                duration: '25-40',
                rating: '★ 4.5',
                features: ['Strategy', 'Resource Management', 'Community', 'Preparation'],
                disasterType: 'Hurricane',
                category: 'strategy'
            },
            {
                id: 'wildfirewatch',
                title: 'Wildfire Watch',
                description: 'Act as wildfire incident commander. Manage firefighting teams, assess terrain, and adapt to changing conditions.',
                icon: 'fas fa-fire',
                badge: 'Strategy',
                players: '1',
                duration: '30-60',
                rating: '★ 4.7',
                features: ['Strategy', 'Real-time', 'Resource Management', 'Adaptation'],
                disasterType: 'Wildfire',
                category: 'strategy'
            },
            {
                id: 'quakeresponse',
                title: 'Quake Response',
                description: 'Search and rescue simulation after earthquakes. Remove rubble, assess structural integrity, and provide first aid.',
                icon: 'fas fa-house-damage',
                badge: 'Simulation',
                players: '1-2',
                duration: '20-35',
                rating: '★ 4.8',
                features: ['Simulation', 'Rescue', 'Decision Making', 'First Aid'],
                disasterType: 'Earthquake',
                category: 'simulation'
            },
            {
                id: 'floodplainproject',
                title: 'The Floodplain Project',
                description: 'Collaborative community flood mitigation. Engineers design defenses while leaders organize emergency responses.',
                icon: 'fas fa-house-flood-water',
                badge: 'Multiplayer',
                players: '3-6',
                duration: '60-90',
                rating: '★ 4.9',
                features: ['Collaboration', 'Planning', 'Sustainability', 'Community'],
                disasterType: 'Flood',
                category: 'multiplayer'
            },
            {
                id: 'stopdisasters',
                title: 'Stop Disasters!',
                description: 'UNDRR official game. Act as disaster risk manager, build safer communities under time and resource constraints.',
                icon: 'fas fa-shield-alt',
                badge: 'Official',
                players: '1',
                duration: '30-45',
                rating: '★ 4.8',
                features: ['Risk Management', 'Community Building', 'Time Pressure', 'Resource Planning'],
                disasterType: 'Multiple',
                category: 'strategy'
            },
            {
                id: 'disasterresponse',
                title: 'Disaster Response Game',
                description: 'Digital scenario game for rapid crisis response. Make quick decisions with limited information during emergencies.',
                icon: 'fas fa-ambulance',
                badge: 'Crisis',
                players: '1-4',
                duration: '20-30',
                rating: '★ 4.6',
                features: ['Quick Decisions', 'Crisis Management', 'Limited Information', 'Realistic'],
                disasterType: 'Multiple',
                category: 'simulation'
            },
            {
                id: 'roadtosafety',
                title: 'Road to Safety',
                description: 'Tabletop simulation with diverse avatars. Navigate disaster scenarios and understand how circumstances affect preparedness.',
                icon: 'fas fa-road',
                badge: 'Empathy',
                players: '2-6',
                duration: '40-60',
                rating: '★ 4.7',
                features: ['Role Playing', 'Empathy Building', 'Problem Solving', 'Awareness'],
                disasterType: 'Multiple',
                category: 'multiplayer'
            },
            {
                id: 'disastermind',
                title: 'Disaster Mind',
                description: 'FEMA-supported simulation promoting critical thinking and preparedness through immersive disaster scenarios.',
                icon: 'fas fa-brain',
                badge: 'FEMA',
                players: '1',
                duration: '30-50',
                rating: '★ 4.8',
                features: ['Critical Thinking', 'FEMA Support', 'Immersive', 'Educational'],
                disasterType: 'Multiple',
                category: 'simulation'
            },
            {
                id: 'floodquest',
                title: 'FloodQuest',
                description: 'Urban flood preparedness education. Anticipate, simulate, and respond to flooding scenarios with planning focus.',
                icon: 'fas fa-house-flood-water',
                badge: 'Urban',
                players: '1-2',
                duration: '25-40',
                rating: '★ 4.5',
                features: ['Urban Planning', 'Flood Response', 'Simulation', 'Preparedness'],
                disasterType: 'Flood',
                category: 'simulation'
            },
            {
                id: 'disasterquest',
                title: 'Disaster Quest',
                description: 'Escape room challenge with disaster scenarios. Solve puzzles to evacuate safely from earthquakes, floods, and fires.',
                icon: 'fas fa-puzzle-piece',
                badge: 'Puzzle',
                players: '1-4',
                duration: '15-30',
                rating: '★ 4.6',
                features: ['Escape Room', 'Puzzle Solving', 'Time Pressure', 'Evacuation'],
                disasterType: 'Multiple',
                category: 'quiz'
            },
            {
                id: 'survivalkit',
                title: 'Survival Kit Builder',
                description: 'Budget-based kit assembly game. Choose the right emergency supplies for different disaster scenarios.',
                icon: 'fas fa-toolbox',
                badge: 'Strategy',
                players: '1',
                duration: '15-25',
                rating: '★ 4.4',
                features: ['Budget Management', 'Item Selection', 'Scenario Based', 'Educational'],
                disasterType: 'Multiple',
                category: 'strategy'
            },
            {
                id: 'rescuemission',
                title: 'Rescue Mission Simulator',
                description: 'Role-play as first responders. Prioritize rescue tasks, help injured, and make critical decisions under pressure.',
                icon: 'fas fa-user-nurse',
                badge: 'Rescue',
                players: '1-3',
                duration: '20-35',
                rating: '★ 4.7',
                features: ['Role Playing', 'First Response', 'Time Management', 'Decision Making'],
                disasterType: 'Multiple',
                category: 'simulation'
            },
            {
                id: 'disastertrivia',
                title: 'Disaster Trivia Battle',
                description: 'Multiplayer quiz with rapid-fire disaster safety questions. Compete with power-ups and lifelines.',
                icon: 'fas fa-question-circle',
                badge: 'Quiz',
                players: '2-8',
                duration: '15-25',
                rating: '★ 4.5',
                features: ['Multiplayer', 'Quiz', 'Power-ups', 'Competitive'],
                disasterType: 'Multiple',
                category: 'quiz'
            },
            {
                id: 'virtualdrill',
                title: 'Virtual Drill Race',
                description: 'Conduct evacuation drills for schools and communities. Guide groups to safety while managing obstacles and panic.',
                icon: 'fas fa-running',
                badge: 'Drill',
                players: '1-2',
                duration: '15-25',
                rating: '★ 4.6',
                features: ['Evacuation', 'Group Management', 'Obstacle Navigation', 'Time Pressure'],
                disasterType: 'Multiple',
                category: 'simulation'
            },
            {
                id: 'factVsMyth',
                title: 'Disaster Detective',
                description: 'Mystery game investigating disaster myths and facts. Solve cases by distinguishing truth from misinformation.',
                icon: 'fas fa-search',
                badge: 'Detective',
                players: '1',
                duration: '20-30',
                rating: '★ 4.7',
                features: ['Mystery', 'Fact Checking', 'Investigation', 'Education'],
                disasterType: 'Multiple',
                category: 'quiz'
            },
            {
                id: 'disasterpoly',
                title: 'DisasterPoly',
                description: 'Monopoly-style board game with disaster management twist. Buy properties, manage resources, and survive various disasters while building community resilience.',
                icon: 'fas fa-dice',
                badge: 'Board Game',
                players: '2-6',
                duration: '60-120',
                rating: '★ 4.8',
                features: ['Board Game', 'Resource Management', 'Property Development', 'Community Building'],
                disasterType: 'Multiple',
                category: 'strategy'
            },
            {
                id: 'knowledgequiz',
                title: 'Knowledge Quiz',
                description: 'Case study-based quiz featuring real disaster scenarios. Answer challenging questions based on actual emergency situations and expert analysis.',
                icon: 'fas fa-graduation-cap',
                badge: 'Case Study',
                players: '1',
                duration: '20-35',
                rating: '★ 4.6',
                features: ['Case Studies', 'Real Scenarios', 'Expert Analysis', 'Knowledge Testing'],
                disasterType: 'Multiple',
                category: 'quiz'
            }
        ];

        // Disaster information data
        const disasterInfo = {
            'Multiple': {
                title: 'Multiple Disaster Types',
                subtitle: 'General Preparedness Guidelines',
                sections: [
                    {
                        title: 'Before a Disaster',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Create a family emergency plan with meeting points',
                            'Build an emergency kit with 3 days of supplies',
                            'Learn evacuation routes from your home and workplace',
                            'Stay informed about local risks and warning systems',
                            'Identify safe spots in your home for different disaster types',
                            'Keep important documents in a waterproof container'
                        ]
                    },
                    {
                        title: 'During a Disaster',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'Follow instructions from local authorities immediately',
                            'If indoors, stay away from windows and exterior walls',
                            'If outdoors, move to clear areas away from buildings and power lines',
                            'Use text messages to communicate (calls may not go through)',
                            'Stay calm and help others who may need assistance',
                            'Listen to battery-powered radio for emergency updates'
                        ]
                    },
                    {
                        title: 'After a Disaster',
                        icon: 'fas fa-home',
                        items: [
                            'Check for injuries and provide first aid if trained',
                            'Inspect your home for damage carefully before entering',
                            'Avoid using open flames (risk of gas leaks)',
                            'Listen to official information before returning home',
                            'Document damage with photos for insurance claims',
                            'Help neighbors and community members safely'
                        ]
                    }
                ]
            },
            'Tsunami': {
                title: 'Tsunami Preparedness',
                subtitle: 'Coastal Safety Guidelines',
                sections: [
                    {
                        title: 'Before a Tsunami',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Know if you live in a tsunami hazard zone',
                            'Plan evacuation routes to high ground or inland',
                            'Practice your evacuation route with family',
                            'Have a waterproof bag with important documents',
                            'Learn natural warning signs: ground shaking, ocean receding',
                            'Identify sturdy buildings with multiple floors as backup shelter'
                        ]
                    },
                    {
                        title: 'During a Tsunami Warning',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'Move immediately to higher ground - do not wait',
                            'If you cannot get to high ground, go to an upper floor of a sturdy building',
                            'Stay away from the beach - never go to watch a tsunami',
                            'Follow evacuation routes - do not take shortcuts',
                            'If caught in water, grab onto something that floats',
                            'Stay out of the water and away from debris'
                        ]
                    },
                    {
                        title: 'After a Tsunami',
                        icon: 'fas fa-home',
                        items: [
                            'Stay away from flooded and damaged areas until officials say it is safe',
                            'Be aware that tsunamis are a series of waves - more may come',
                            'Check yourself for injuries and get first aid if needed',
                            'Help people who require special assistance',
                            'Avoid disaster areas - your presence might hamper rescue efforts',
                            'Listen to authorities about when it is safe to return'
                        ]
                    }
                ]
            },
            'Hurricane': {
                title: 'Hurricane Preparedness',
                subtitle: 'Storm Safety Guidelines',
                sections: [
                    {
                        title: 'Before Hurricane Season',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Know your evacuation zone and plan your route',
                            'Trim trees and shrubs around your home',
                            'Install storm shutters or pre-cut plywood for windows',
                            'Clear loose and clogged rain gutters and downspouts',
                            'Review insurance policies and take inventory of belongings',
                            'Establish communication plan with family members'
                        ]
                    },
                    {
                        title: 'When a Hurricane is Approaching',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'Follow evacuation orders from local authorities',
                            'Secure your home and bring outdoor furniture inside',
                            'Turn off utilities if instructed to do so',
                            'Stay indoors during the hurricane, away from windows',
                            'Be aware of the eye - stay inside when winds calm temporarily',
                            'Monitor weather updates continuously'
                        ]
                    },
                    {
                        title: 'After the Hurricane',
                        icon: 'fas fa-home',
                        items: [
                            'Listen to officials for information and special instructions',
                            'Avoid flooded roads and washed out bridges',
                            'Stay away from loose or dangling power lines',
                            'Inspect your home for damage and take pictures for insurance',
                            'Use flashlights instead of candles to prevent fires',
                            'Drink only bottled or purified water'
                        ]
                    }
                ]
            },
            'Wildfire': {
                title: 'Wildfire Safety',
                subtitle: 'Fire Prevention and Response',
                sections: [
                    {
                        title: 'Before a Wildfire',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Create defensible space around your home (30-100 feet)',
                            'Use fire-resistant materials for roofing and exterior',
                            'Clear leaves and debris from gutters, eaves, and roof',
                            'Have an emergency supply kit ready to go',
                            'Plan multiple evacuation routes from your area',
                            'Keep garden hoses connected and ladder accessible'
                        ]
                    },
                    {
                        title: 'During a Wildfire',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'Evacuate immediately if authorities say to do so',
                            'Wear protective clothing and footwear',
                            'Stay low to the ground in smoky conditions',
                            'Choose downhill escape routes - fire travels uphill faster',
                            'If trapped, call 911 and give your location',
                            'Find an area clear of vegetation and lie face down'
                        ]
                    },
                    {
                        title: 'After a Wildfire',
                        icon: 'fas fa-home',
                        items: [
                            'Return home only when officials say it is safe',
                            'Use caution when entering burned areas - hazards may exist',
                            'Check the roof and attic for hidden burning sparks',
                            'Document property damage with photographs',
                            'Beware of ash pits - they can burn for days',
                            'Watch for heat exhaustion and dehydration'
                        ]
                    }
                ]
            },
            'Earthquake': {
                title: 'Earthquake Safety',
                subtitle: 'Drop, Cover, and Hold On',
                sections: [
                    {
                        title: 'Before an Earthquake',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Secure heavy furniture, appliances, and hanging objects',
                            'Identify safe spots in each room (under sturdy tables, against inside walls)',
                            'Practice "Drop, Cover, and Hold On" with family members',
                            'Keep a wrench near gas shutoff valve (if you have gas service)',
                            'Store emergency supplies in easy-to-access locations',
                            'Know how to turn off water, gas, and electricity'
                        ]
                    },
                    {
                        title: 'During an Earthquake',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'DROP to the ground (before the earthquake drops you)',
                            'COVER your head and neck with your arms and seek shelter',
                            'HOLD ON to your shelter (or your head and neck) until shaking stops',
                            'If outdoors, move to an open area away from buildings and power lines',
                            'If driving, pull over and stop away from overpasses and trees',
                            'If in bed, stay there and cover your head with a pillow'
                        ]
                    },
                    {
                        title: 'After an Earthquake',
                        icon: 'fas fa-home',
                        items: [
                            'Check yourself and others for injuries - provide first aid',
                            'Check for gas leaks and turn off gas if you smell it',
                            'Inspect your home for damage and be cautious of aftershocks',
                            'Listen to a battery-operated radio for emergency information',
                            'Open cabinets cautiously - contents may have shifted',
                            'Clean up hazardous spills and wear shoes to protect feet'
                        ]
                    }
                ]
            },
            'Flood': {
                title: 'Flood Safety',
                subtitle: 'Water Emergency Preparedness',
                sections: [
                    {
                        title: 'Before a Flood',
                        icon: 'fas fa-clipboard-list',
                        items: [
                            'Know your flood risk and elevation above flood stage',
                            'Install check valves in sewer traps to prevent backup',
                            'Waterproof your basement and elevate electrical components',
                            'Have sandbags, plywood, plastic sheeting available',
                            'Keep insurance policies and important documents in waterproof container',
                            'Identify higher ground evacuation routes'
                        ]
                    },
                    {
                        title: 'During a Flood',
                        icon: 'fas fa-exclamation-triangle',
                        items: [
                            'Move to higher ground immediately - do not wait for instructions',
                            'Avoid walking or driving through flood waters (6 inches can knock you down)',
                            'Stay away from downed power lines and report them',
                            'If your vehicle stalls in water, abandon it and seek higher ground',
                            'Never try to swim in flood waters',
                            'Stay out of moving water'
                        ]
                    },
                    {
                        title: 'After a Flood',
                        icon: 'fas fa-home',
                        items: [
                            'Return home only when authorities say it is safe',
                            'Avoid floodwaters - may be contaminated or electrically charged',
                            'Service damaged septic tanks and sewage systems immediately',
                            'Clean and disinfect everything that got wet',
                            'Throw away food that came in contact with flood water',
                            'Take pictures of damage for insurance claims'
                        ]
                    }
                ]
            }
        };

        // DOM elements
        const gamesGrid = document.getElementById('gamesGrid');
        const gameSearch = document.getElementById('gameSearch');
        const filterOptions = document.querySelectorAll('.filter-option');
        const disasterInfoModal = document.getElementById('disasterInfoModal');
        const closeDisasterModal = document.getElementById('closeDisasterModal');
        const disasterModalTitle = document.getElementById('disasterModalTitle');
        const disasterModalSubtitle = document.getElementById('disasterModalSubtitle');
        const disasterModalBody = document.getElementById('disasterModalBody');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadUserInfo();
            initializeMenuNavigation();
            renderGameCards(gamesData);
            setupEventListeners();
        });

        // Load User Information
        async function loadUserInfo() {
            try {
                let userData = null;
                const localData = localStorage.getItem('resq_user_data');
                
                if (localData) {
                    userData = JSON.parse(localData);
                    updateUserDisplay(userData);
                } else {
                    updateUserDisplay({ name: 'Student', email: 'student@resq.com' });
                }
            } catch (error) {
                console.error('Error loading user info:', error);
                updateUserDisplay({ name: 'Student', email: 'student@resq.com' });
            }
        }

        function updateUserDisplay(userData) {
            const userNameElement = document.getElementById('sidebarUserName');
            const userAvatarElement = document.getElementById('userAvatar');
            
            if (userNameElement && userData.name) {
                userNameElement.textContent = userData.name;
            }
            
            if (userAvatarElement && userData.name) {
                userAvatarElement.textContent = userData.name.charAt(0).toUpperCase();
            }
        }

        // Initialize menu navigation
        function initializeMenuNavigation() {
            const menuItems = document.querySelectorAll('.menu-item');
            
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    const text = this.querySelector('span').textContent;
                    handleMenuNavigation(text);
                });
            });
        }

        function handleMenuNavigation(page) {
            const pageMap = {
                'Dashboard': 'dashboard-student.html',
                'Education Modules': 'education-modules.html',
                'Sandbox Simulator': 'sandbox-simulator.html',
                'Emergency Contacts': '../administrator/templates/emergency_contacts.html',
                'Disaster Map': '../advanced-map.html',
                'AI Helper': 'chatbot.html',
                'Gamified Learning': 'gamified-learning.html',
                'Profile & Badges': 'profile-badges.html',
                'Settings': 'settings.html'
            };
            
            if (pageMap[page] && page !== 'Gamified Learning') {
                window.location.href = pageMap[page];
            }
        }

        // Render game cards
        function renderGameCards(games) {
            gamesGrid.innerHTML = '';
            
            if (games.length === 0) {
                gamesGrid.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <p>No games found matching your search criteria.</p>
                    </div>
                `;
                return;
            }
            
            games.forEach(game => {
                const gameCard = createGameCard(game);
                gamesGrid.appendChild(gameCard);
            });
        }

        // Create individual game card
        function createGameCard(game) {
            const card = document.createElement('div');
            card.className = 'game-card';
            card.setAttribute('data-category', game.category);
            
            card.innerHTML = `
                <div class="game-header" style="background: linear-gradient(90deg, ${getRandomGradient()});">
                    <div class="game-badge">${game.badge}</div>
                    <div style="text-align: center;">
                        <div class="game-icon">
                            <i class="${game.icon}"></i>
                        </div>
                    </div>
                </div>
                <div class="game-content">
                    <h3>${game.title}</h3>
                    <p>${game.description}</p>
                    
                    <div class="game-stats">
                        <div class="stat-item">
                            <div class="stat-number">${game.players}</div>
                            <div class="stat-label">Players</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">${game.duration}</div>
                            <div class="stat-label">Minutes</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">${game.rating}</div>
                            <div class="stat-label">Rating</div>
                        </div>
                    </div>

                    <div class="game-features">
                        ${game.features.map(feature => `<span class="feature-tag">${feature}</span>`).join('')}
                    </div>

                    <div class="game-actions">
                        <button class="btn-primary" onclick="playGame('${game.id}')">
                            <i class="fas fa-play"></i> Play Game
                        </button>
                        <button class="btn-secondary" onclick="showDisasterInfo('${game.disasterType}')">
                            <i class="fas fa-info-circle"></i> Learn More
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Get random gradient for game headers
        function getRandomGradient() {
            const gradients = [
                'var(--p1), var(--p6)',
                'var(--p2), var(--p7)',
                'var(--p3), var(--p4)',
                'var(--p5), var(--p6)',
                'var(--primary), var(--p1)',
                'var(--secondary), var(--p2)'
            ];
            
            return gradients[Math.floor(Math.random() * gradients.length)];
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search functionality
            gameSearch.addEventListener('input', handleSearch);
            
            // Filter functionality
            filterOptions.forEach(option => {
                option.addEventListener('click', handleFilter);
            });
            
            // Modal close functionality
            closeDisasterModal.addEventListener('click', closeModal);
            disasterInfoModal.addEventListener('click', function(e) {
                if (e.target === disasterInfoModal) {
                    closeModal();
                }
            });
            
            // Escape key to close modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
        }

        // Handle search functionality
        function handleSearch() {
            const searchTerm = gameSearch.value.toLowerCase();
            const filteredGames = gamesData.filter(game => 
                game.title.toLowerCase().includes(searchTerm) ||
                game.description.toLowerCase().includes(searchTerm) ||
                game.disasterType.toLowerCase().includes(searchTerm) ||
                game.features.some(feature => feature.toLowerCase().includes(searchTerm))
            );
            
            renderGameCards(filteredGames);
        }

        // Handle filter functionality
        function handleFilter(e) {
            // Remove active class from all options
            filterOptions.forEach(option => option.classList.remove('active'));
            
            // Add active class to clicked option
            e.target.classList.add('active');
            
            const filterValue = e.target.getAttribute('data-filter');
            
            let filteredGames;
            if (filterValue === 'all') {
                filteredGames = gamesData;
            } else {
                filteredGames = gamesData.filter(game => game.category === filterValue);
            }
            
            renderGameCards(filteredGames);
        }

        // Play game function
        function playGame(gameId) {
            // Create a comprehensive game launcher with all available games
            const gameUrls = {
                'simcity-disaster': 'games/simCity.html',
                'tsunamiescape': 'games/tsunamiEscape.html',
                'hurricanehero': 'games/hurricaneHero.html',
                'wildfirewatch': 'games/WildfireWatch.html',
                'quakeresponse': 'games/quackResponse.html',
                'floodplainproject': 'games/floodPain.html',
                'stopdisasters': 'games/StopDisasters.html',
                'disasterresponse': 'games/disasterResponseGame.html',
                'roadtosafety': 'games/roadtosafety.html',
                'disastermind': 'games/disasterMind.html',
                'floodquest': 'games/floodQuest.html',
                'disasterquest': 'games/disasterQuest.html',
                'survivalkit': 'games/survivalKit.html',
                'rescuemission': 'games/rescueMission.html',
                'disastertrivia': 'games/disasterTrivia.html',
                'virtualdrill': 'games/virtualDrill.html',
                'factVsMyth': 'games/factVsMyth.html',
                'disasterpoly': 'games/disasterpoly.html',
                'knowledgequiz': 'games/quiz.html'
            };
            
            if (gameUrls[gameId]) {
                window.location.href = gameUrls[gameId];
            } else {
                alert(`${gameId} will be available soon! This is a demo version.`);
            }
        }

        // Show disaster information
        function showDisasterInfo(disasterType) {
            const info = disasterInfo[disasterType];
            if (!info) return;
            
            disasterModalTitle.textContent = info.title;
            disasterModalSubtitle.textContent = info.subtitle;
            
            let bodyContent = '';
            
            // Add animated icon based on disaster type
            const animationIcons = {
                'Multiple': 'fas fa-shield-alt',
                'Tsunami': 'fas fa-water',
                'Hurricane': 'fas fa-wind',
                'Wildfire': 'fas fa-fire',
                'Earthquake': 'fas fa-house-damage',
                'Flood': 'fas fa-house-flood-water'
            };
            
            bodyContent += `
                <div class="disaster-animation">
                    <div class="animation-icon">
                        <i class="${animationIcons[disasterType] || 'fas fa-exclamation-triangle'}" style="color: var(--primary);"></i>
                    </div>
                    <p><strong>Learn how to stay safe during ${disasterType.toLowerCase()} disasters</strong></p>
                </div>
            `;
            
            // Add sections
            info.sections.forEach(section => {
                bodyContent += `
                    <div class="disaster-section">
                        <h4>
                            <i class="${section.icon}"></i>
                            ${section.title}
                        </h4>
                        <ul>
                            ${section.items.map(item => `
                                <li>
                                    <i class="fas fa-check-circle"></i>
                                    <span>${item}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            });
            
            disasterModalBody.innerHTML = bodyContent;
            disasterInfoModal.classList.add('active');
        }

        // Close modal
        function closeModal() {
            disasterInfoModal.classList.remove('active');
        }
    </script>
</body>

</html>